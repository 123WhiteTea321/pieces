{"version":3,"file":"js/690.66e44876.js","mappings":"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","sources":["webpack://jianyi/./src/api/notes.js","webpack://jianyi/./src/views/NotesView.vue","webpack://jianyi/src/views/NotesView.vue","webpack://jianyi/./src/views/NotesView.vue?e320","webpack://jianyi/./src/views/NotesView.vue?ae31"],"sourcesContent":["import request from \"./http\";\r\n\r\n/**\r\n * 手记精选\r\n * @param {Number} page 页\r\n */\r\nexport function getNotes(){\r\n    return request({\r\n        url:\"/notes\",\r\n        method:\"get\"\r\n    })\r\n}\r\n\r\n/**\r\n * 手记详情\r\n * @param {String} noteId 手记id\r\n */\r\n export function getNoteDetail(noteId){\r\n    return request({\r\n        url:\"/note/\"+noteId,\r\n    })\r\n}\r\n\r\n/**\r\n * 手记评论列表\r\n * @param {String} noteId 手记id\r\n */\r\n export function getNoteComment(noteId){\r\n    return request({\r\n        url:\"note/\"+noteId+\"/comment\",\r\n    })\r\n}\r\n\r\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"notes\"},[_c('van-sticky',[_c('div',{staticClass:\"notesTop\"},[_vm._v(\"手记\")])]),(_vm.noteList)?_c('div',_vm._l((_vm.noteList),function(item,index){return _c('router-link',{key:item.id,staticClass:\"noteInfo\",attrs:{\"tag\":\"div\",\"to\":'/notesdetail?id=' + item.id}},[_c('div',{staticClass:\"top\"},[_c('div',{staticClass:\"img\",on:{\"click\":function($event){$event.preventDefault();return _vm.goUserView(item.user.id)}}},[_c('img',{attrs:{\"src\":item.user.avatar,\"alt\":\"\"}})]),_c('div',{staticClass:\"topText\"},[_c('p',{staticClass:\"name\",on:{\"click\":function($event){$event.preventDefault();return _vm.goUserView(item.user.id)}}},[_vm._v(\" \"+_vm._s(item.user.username)+\" \")]),_c('p',{staticClass:\"times\"},[_vm._v(\" \"+_vm._s(_vm._f(\"changeTimeFormat\")((item.addtime * 1000)))+\" 发布 \")])]),_c('span',{staticClass:\"iconfont icon-gengduo1\",on:{\"click\":function($event){$event.preventDefault();_vm.showShare = true}}})]),_c('h3',{staticClass:\"title\"},[_vm._v(_vm._s(item.title))]),_c('div',{staticClass:\"contentText\"},[_c('p',{staticClass:\"content\"},[_vm._v(_vm._s(item.content))])]),(item.images)?_c('div',{staticClass:\"pics\"},_vm._l((item.images),function(data){return _c('div',{key:data,staticClass:\"pic\"},[_c('img',{attrs:{\"src\":data,\"alt\":\"\"}})])}),0):_vm._e(),(item.article.cover)?_c('router-link',{staticClass:\"videoView\",attrs:{\"tag\":\"div\",\"to\":'/videoplay?id=' + item.article.id}},[_c('div',{staticClass:\"img\"},[_c('img',{attrs:{\"src\":item.article.cover,\"alt\":\"\"}})]),_c('div',{staticClass:\"text\"},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(item.article.title))]),_c('p',{staticClass:\"name\"},[_vm._v(\"@\"+_vm._s(item.article.author.userinfo.username))])])]):_vm._e(),_c('div',{staticClass:\"bottom\"},[_c('div',[_c('span',{class:['iconfont', 'icon-dianzan1', { 'likeactive': item.isliked }],on:{\"click\":function($event){$event.stopPropagation();return _vm.dianzan(index)}}}),_c('p',[_vm._v(_vm._s(item.count.count_liked))])]),_c('div',[_c('span',{staticClass:\"iconfont icon-pinglun\"}),_c('p',[_vm._v(_vm._s(item.count.count_commented))])]),(item.count.count_shared != 0)?_c('div',{on:{\"click\":function($event){$event.preventDefault();_vm.showShare = true}}},[_c('span',{staticClass:\"iconfont icon-fenxiang\"}),_c('p',[_vm._v(_vm._s(item.count.count_shared))])]):_c('div',{on:{\"click\":function($event){$event.preventDefault();_vm.showShare = true}}},[_c('span',{staticClass:\"iconfont icon-fenxiang\"}),_c('p',[_vm._v(\"分享\")])])])],1)}),1):_c('div',{staticClass:\"loadingView\"},[_c('div',{staticClass:\"loading\"}),_c('van-loading',{attrs:{\"type\":\"spinner\",\"size\":\"20\",\"vertical\":\"\"}})],1),_c('van-share-sheet',{attrs:{\"title\":\"立即分享给好友\",\"options\":_vm.options},model:{value:(_vm.showShare),callback:function ($$v) {_vm.showShare=$$v},expression:\"showShare\"}}),_c('tab-bar',{attrs:{\"tab-index\":_vm.tabIndex}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"notes\">\r\n    <van-sticky>\r\n      <div class=\"notesTop\">手记</div>\r\n    </van-sticky>\r\n    <div v-if=\"noteList\">\r\n      <router-link\r\n        tag=\"div\"\r\n        :to=\"'/notesdetail?id=' + item.id\"\r\n        class=\"noteInfo\"\r\n        v-for=\"(item, index) in noteList\"\r\n        :key=\"item.id\"\r\n      >\r\n        <div class=\"top\">\r\n          <div class=\"img\" @click.prevent=\"goUserView(item.user.id)\">\r\n            <img :src=\"item.user.avatar\" alt=\"\" />\r\n          </div>\r\n          <div class=\"topText\">\r\n            <p class=\"name\" @click.prevent=\"goUserView(item.user.id)\">\r\n              {{ item.user.username }}\r\n            </p>\r\n            <p class=\"times\">\r\n              {{ (item.addtime * 1000) | changeTimeFormat }} 发布\r\n            </p>\r\n          </div>\r\n          <span\r\n            class=\"iconfont icon-gengduo1\"\r\n            @click.prevent=\"showShare = true\"\r\n          ></span>\r\n        </div>\r\n        <h3 class=\"title\">{{ item.title }}</h3>\r\n        <div class=\"contentText\">\r\n          <p class=\"content\">{{ item.content }}</p>\r\n        </div>\r\n        <div class=\"pics\" v-if=\"item.images\">\r\n          <div class=\"pic\" v-for=\"data in item.images\" :key=\"data\">\r\n            <img :src=\"data\" alt=\"\" />\r\n          </div>\r\n        </div>\r\n        <router-link\r\n          tag=\"div\"\r\n          :to=\"'/videoplay?id=' + item.article.id\"\r\n          class=\"videoView\"\r\n          v-if=\"item.article.cover\"\r\n        >\r\n          <div class=\"img\">\r\n            <img :src=\"item.article.cover\" alt=\"\" />\r\n          </div>\r\n          <div class=\"text\">\r\n            <p class=\"title\">{{ item.article.title }}</p>\r\n            <p class=\"name\">@{{ item.article.author.userinfo.username }}</p>\r\n          </div>\r\n        </router-link>\r\n        <div class=\"bottom\">\r\n          <div>\r\n            <span\r\n              :class=\"['iconfont', 'icon-dianzan1', { 'likeactive': item.isliked }]\"\r\n              @click.stop=\"dianzan(index)\"\r\n            ></span>\r\n            <p>{{ item.count.count_liked }}</p>\r\n          </div>\r\n          <div>\r\n            <span class=\"iconfont icon-pinglun\"></span>\r\n            <p>{{ item.count.count_commented }}</p>\r\n          </div>\r\n          <div\r\n            v-if=\"item.count.count_shared != 0\"\r\n            @click.prevent=\"showShare = true\"\r\n          >\r\n            <span class=\"iconfont icon-fenxiang\"></span>\r\n            <p>{{ item.count.count_shared }}</p>\r\n          </div>\r\n          <div v-else @click.prevent=\"showShare = true\">\r\n            <span class=\"iconfont icon-fenxiang\"></span>\r\n            <p>分享</p>\r\n          </div>\r\n        </div>\r\n      </router-link>\r\n    </div>\r\n    <div class=\"loadingView\" v-else>\r\n      <div class=\"loading\"></div>\r\n      <van-loading type=\"spinner\" size=\"20\" vertical />\r\n    </div>\r\n    <van-share-sheet\r\n      v-model=\"showShare\"\r\n      title=\"立即分享给好友\"\r\n      :options=\"options\"\r\n    />\r\n    <tab-bar :tab-index=\"tabIndex\"></tab-bar>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getNotes } from \"../api/notes\";\r\nimport TabBar from \"../components/public/TabBar.vue\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      noteList: null,\r\n      showShare: false,\r\n      tabIndex: 2,\r\n      loginPhone: \"\",\r\n      isliked: false,\r\n      options: [\r\n        [\r\n          { name: \"微信\", icon: \"wechat\" },\r\n          { name: \"朋友圈\", icon: \"wechat-moments\" },\r\n          { name: \"微博\", icon: \"weibo\" },\r\n          { name: \"QQ\", icon: \"qq\" },\r\n        ],\r\n        [\r\n          { name: \"复制链接\", icon: \"link\" },\r\n          { name: \"分享海报\", icon: \"poster\" },\r\n          { name: \"二维码\", icon: \"qrcode\" },\r\n          { name: \"小程序码\", icon: \"weapp-qrcode\" },\r\n        ],\r\n      ],\r\n    };\r\n  },\r\n  methods: {\r\n    getNotesFun() {\r\n      getNotes().then((data) => {\r\n        // console.log(data);\r\n        this.noteList = data.data.list;\r\n        let notelikeMsg = localStorage.getItem(\"notelikeList\")\r\n        if(!notelikeMsg){return}\r\n        let notelikeList = JSON.parse(notelikeMsg);\r\n        let noteindex = notelikeList.findIndex(\r\n          (item) => item.phone == this.loginPhone\r\n        );\r\n        if(noteindex == -1){return}\r\n        let noteIdList = notelikeList[noteindex].noteIds;\r\n        // console.log(noteIdList);\r\n        for(let i = 0; i < this.noteList.length; i++){\r\n          let hasSameIdIndex =  noteIdList.findIndex(item=>item == this.noteList[i].id)\r\n          if(hasSameIdIndex!=-1){\r\n            this.noteList[i].isliked = true;\r\n            this.noteList[i].count.count_liked += 1;\r\n          }\r\n          \r\n        }\r\n      });\r\n    },\r\n    goUserView(id) {\r\n      this.$router.push({\r\n        name: \"userinfo\",\r\n        query: {\r\n          id: id,\r\n        },\r\n      });\r\n    },\r\n    dianzan(index) {\r\n      let _this = this;\r\n      if (this.loginPhone == \"\") {\r\n        this.$dialog\r\n          .confirm({\r\n            title: \"未登录\",\r\n            message: \"是否跳转到登录页面\",\r\n          })\r\n          .then(() => {\r\n            _this.$router.push(\"/loginview\");\r\n          });\r\n        return;\r\n      }\r\n      let notelikeMsg = localStorage.getItem(\"notelikeList\");\r\n      let notelikeList = [];\r\n      if (!notelikeMsg) {\r\n        notelikeList.push({\r\n          phone: this.loginPhone,\r\n          noteIds: [this.noteList[index].id],\r\n        });\r\n        this.noteList[index].count.count_liked += 1;\r\n        this.noteList[index].isliked = true;\r\n      } else {\r\n        notelikeList = JSON.parse(notelikeMsg);\r\n        let noteindex = notelikeList.findIndex(\r\n          (item) => item.phone == this.loginPhone\r\n        );\r\n        if (noteindex == -1) {\r\n          // 这个账号还没有点赞过任何手记\r\n          notelikeList.push({\r\n            phone: this.loginPhone,\r\n            noteIds: [this.noteList[index].id],\r\n          });\r\n          this.noteList[index].count.count_liked += 1;\r\n          this.noteList[index].isliked = true;\r\n        } else {\r\n          let noteIds = notelikeList[noteindex].noteIds;\r\n          let IdsIndex = noteIds.findIndex(\r\n            (item) => item == this.noteList[index].id\r\n          );\r\n          if (IdsIndex == -1) {\r\n            // 该账号点赞过手记 但没有点赞过这条手记\r\n            notelikeList[noteindex].noteIds.push(this.noteList[index].id);\r\n            this.noteList[index].count.count_liked += 1;\r\n            this.noteList[index].isliked = true;\r\n          }else{\r\n            // 点赞过该手记 取消点赞\r\n            notelikeList[noteindex].noteIds.splice(IdsIndex,1);\r\n            this.noteList[index].count.count_liked -= 1;\r\n            this.noteList[index].isliked = false;\r\n          }\r\n        }\r\n      }\r\n      notelikeList = JSON.stringify(notelikeList);\r\n      localStorage.setItem(\"notelikeList\",notelikeList)\r\n    },\r\n    findloginPhone() {\r\n      let userMsg = localStorage.getItem(\"userlist\");\r\n      let userlist = [];\r\n      if (!userMsg) {\r\n        return;\r\n      }\r\n      userlist = JSON.parse(userMsg);\r\n      let index = userlist.findIndex((item) => item.type == \"login\");\r\n      if (index == -1) {\r\n        return;\r\n      }\r\n      this.loginPhone = userlist[index].phone;\r\n      // console.log(this.loginPhone);\r\n    },\r\n  },\r\n  created() {\r\n    this.getNotesFun();\r\n    this.findloginPhone();\r\n  },\r\n  filters: {\r\n    changeTimeFormat(timespan) {\r\n      var dateTime = new Date(timespan); // 将传进来的字符串或者毫秒转为标准时间\r\n      var year = dateTime.getFullYear();\r\n      var month = dateTime.getMonth() + 1;\r\n      var day = dateTime.getDate();\r\n      var hour = dateTime.getHours();\r\n      var minute = dateTime.getMinutes();\r\n      // var second = dateTime.getSeconds()\r\n      var millisecond = dateTime.getTime(); // 将当前编辑的时间转换为毫秒\r\n      var now = new Date(); // 获取本机当前的时间\r\n      var nowNew = now.getTime(); // 将本机的时间转换为毫秒\r\n      var milliseconds = 0;\r\n      var timeSpanStr;\r\n      milliseconds = nowNew - millisecond;\r\n      if (milliseconds <= 1000 * 60 * 1) {\r\n        // 小于一分钟展示为刚刚\r\n        timeSpanStr = \"刚刚\";\r\n      } else if (\r\n        1000 * 60 * 1 < milliseconds &&\r\n        milliseconds <= 1000 * 60 * 60\r\n      ) {\r\n        // 大于一分钟小于一小时展示为分钟\r\n        timeSpanStr = Math.round(milliseconds / (1000 * 60)) + \"分钟前\";\r\n      } else if (\r\n        1000 * 60 * 60 * 1 < milliseconds &&\r\n        milliseconds <= 1000 * 60 * 60 * 24\r\n      ) {\r\n        // 大于一小时小于一天展示为小时\r\n        timeSpanStr = Math.round(milliseconds / (1000 * 60 * 60)) + \"小时前\";\r\n      } else if (\r\n        1000 * 60 * 60 * 24 < milliseconds &&\r\n        milliseconds <= 1000 * 60 * 60 * 24 * 15\r\n      ) {\r\n        // 大于一天小于十五天展示位天\r\n        timeSpanStr = Math.round(milliseconds / (1000 * 60 * 60 * 24)) + \"天前\";\r\n      } else if (\r\n        milliseconds > 1000 * 60 * 60 * 24 * 15 &&\r\n        year === now.getFullYear()\r\n      ) {\r\n        timeSpanStr = month + \"-\" + day + \" \" + hour + \":\" + minute;\r\n      } else {\r\n        timeSpanStr =\r\n          year + \"-\" + month + \"-\" + day + \" \" + hour + \":\" + minute;\r\n      }\r\n      return timeSpanStr;\r\n    },\r\n  },\r\n  components: {\r\n    TabBar,\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.notes {\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: #f3f4f5;\r\n  overflow-y: scroll;\r\n  .notesTop {\r\n    width: 100%;\r\n    height: 42px;\r\n    border-bottom: 1px solid #dcdbdc;\r\n    font-size: 17px;\r\n    font-weight: bold;\r\n    font-family: \"黑体\";\r\n    text-align: center;\r\n    line-height: 42px;\r\n    background-color: rgba(255, 255, 255, 0.98);\r\n  }\r\n\r\n  .noteInfo {\r\n    margin-top: 7px;\r\n    width: 100%;\r\n    background-color: #fff;\r\n    .top {\r\n      display: flex;\r\n      padding-left: 16px;\r\n      padding-right: 10px;\r\n      padding-top: 16px;\r\n      .img {\r\n        width: 40px;\r\n        height: 40px;\r\n        border-radius: 50%;\r\n        overflow: hidden;\r\n        img {\r\n          width: 40px;\r\n          height: 40px;\r\n        }\r\n      }\r\n      .topText {\r\n        flex: 1;\r\n        margin-left: 10px;\r\n        .name {\r\n          height: 24px;\r\n          line-height: 24px;\r\n          color: #111622;\r\n          font-size: 14px;\r\n        }\r\n        .times {\r\n          width: 150px;\r\n          height: 28px;\r\n          line-height: 28px;\r\n          font-size: 20px;\r\n          transform: scale(0.5);\r\n          margin-left: -38px;\r\n          margin-top: -7px;\r\n          margin-bottom: -7px;\r\n          color: #a2a7b1;\r\n        }\r\n      }\r\n      .icon-gengduo1 {\r\n        font-size: 12px;\r\n        color: #848484;\r\n        line-height: 40px;\r\n      }\r\n    }\r\n    h3.title {\r\n      // height: 25px;\r\n      line-height: 25px;\r\n      white-space: wrap;\r\n      padding: 0 16px;\r\n      margin-top: 10px;\r\n      font-size: 15px;\r\n      font-family: \"黑体\";\r\n      // font-weight: bold;\r\n    }\r\n    .contentText {\r\n      p.content {\r\n        padding: 0 16px;\r\n        color: #0e1624;\r\n        font-size: 13px;\r\n        line-height: 23px;\r\n        white-space: wrap;\r\n        height: auto;\r\n        display: -webkit-box;\r\n        overflow: hidden; /*超出隐藏*/\r\n        text-overflow: ellipsis; /*隐藏后添加省略号*/\r\n        -webkit-box-orient: vertical;\r\n        -webkit-line-clamp: 3; //想显示多少行\r\n      }\r\n    }\r\n    .pics {\r\n      padding: 0 16px;\r\n      padding-top: 10px;\r\n      padding-bottom: 13px;\r\n      display: flex;\r\n      overflow: hidden;\r\n      // justify-content: space-between;\r\n      .pic {\r\n        width: 110px;\r\n        height: 110px;\r\n        border-radius: 3px;\r\n        overflow: hidden;\r\n        margin-right: 10px;\r\n        display: none;\r\n        img {\r\n          width: 100%;\r\n          height: 100%;\r\n          object-fit: cover;\r\n        }\r\n        &:nth-child(1),\r\n        &:nth-child(2),\r\n        &:nth-child(3) {\r\n          display: block;\r\n        }\r\n      }\r\n    }\r\n    .videoView {\r\n      margin: 0 16px;\r\n      margin-top: 10px;\r\n      margin-bottom: 13px;\r\n      border-radius: 4px;\r\n      background-color: #f3f4f5;\r\n      overflow: hidden;\r\n      display: flex;\r\n      .img {\r\n        width: 160px;\r\n        img {\r\n          width: 160px;\r\n        }\r\n      }\r\n      .text {\r\n        padding: 0 12px;\r\n        p.title {\r\n          margin-top: 12px;\r\n          line-height: 20px;\r\n          font-size: 14px;\r\n          color: #030c1a;\r\n          height: auto;\r\n          display: -webkit-box;\r\n          overflow: hidden; /*超出隐藏*/\r\n          text-overflow: ellipsis; /*隐藏后添加省略号*/\r\n          -webkit-box-orient: vertical;\r\n          -webkit-line-clamp: 2; //想显示多少行\r\n        }\r\n        p.name {\r\n          height: 25px;\r\n          line-height: 25px;\r\n          font-size: 12px;\r\n          color: #a1a7b1;\r\n        }\r\n      }\r\n    }\r\n    .bottom {\r\n      width: 91.7%;\r\n      height: 43px;\r\n      margin: 0 auto;\r\n      border-top: 1px solid #f3f4f5;\r\n      display: flex;\r\n      div {\r\n        flex: 1;\r\n        line-height: 43px;\r\n        font-size: 12px;\r\n        display: flex;\r\n        .iconfont {\r\n          font-size: 19px;\r\n          line-height: 43px;\r\n          color: #474e5e;\r\n          margin-left: 38px;\r\n        }\r\n        .likeactive{\r\n          color: red;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .loadingView {\r\n    .loading {\r\n      width: 100%;\r\n      height: 240px;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/_thread-loader@3.0.4@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!./NotesView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_thread-loader@3.0.4@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!./NotesView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NotesView.vue?vue&type=template&id=4ebc46f3&\"\nimport script from \"./NotesView.vue?vue&type=script&lang=js&\"\nexport * from \"./NotesView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NotesView.vue?vue&type=style&index=0&id=4ebc46f3&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.10.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["getNotes","request","url","method","getNoteDetail","noteId","getNoteComment","render","_vm","this","_c","_self","staticClass","_v","noteList","_l","item","index","key","id","attrs","on","$event","preventDefault","goUserView","user","avatar","_s","username","_f","addtime","showShare","title","content","images","data","_e","article","cover","author","userinfo","class","isliked","stopPropagation","dianzan","count","count_liked","count_commented","count_shared","options","model","value","callback","$$v","expression","tabIndex","staticRenderFns","loginPhone","name","icon","methods","getNotesFun","query","confirm","message","then","_this","notelikeList","phone","noteIds","localStorage","findloginPhone","userlist","created","filters","changeTimeFormat","milliseconds","timeSpanStr","year","components","TabBar","component"],"sourceRoot":""}