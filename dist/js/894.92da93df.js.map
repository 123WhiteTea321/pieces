{"version":3,"file":"js/894.92da93df.js","mappings":"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","sources":["webpack://jianyi/./src/api/notes.js","webpack://jianyi/./src/views/NotesDetail.vue","webpack://jianyi/src/views/NotesDetail.vue","webpack://jianyi/./src/views/NotesDetail.vue?c3be","webpack://jianyi/./src/views/NotesDetail.vue?d233"],"sourcesContent":["import request from \"./http\";\r\n\r\n/**\r\n * 手记精选\r\n * @param {Number} page 页\r\n */\r\nexport function getNotes(){\r\n    return request({\r\n        url:\"/notes\",\r\n        method:\"get\"\r\n    })\r\n}\r\n\r\n/**\r\n * 手记详情\r\n * @param {String} noteId 手记id\r\n */\r\n export function getNoteDetail(noteId){\r\n    return request({\r\n        url:\"/note/\"+noteId,\r\n    })\r\n}\r\n\r\n/**\r\n * 手记评论列表\r\n * @param {String} noteId 手记id\r\n */\r\n export function getNoteComment(noteId){\r\n    return request({\r\n        url:\"note/\"+noteId+\"/comment\",\r\n    })\r\n}\r\n\r\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.noteInfo && _vm.noteComments)?_c('div',{staticClass:\"notedetail\"},[_c('van-sticky',[_c('div',{staticClass:\"top\"},[_c('div',{staticClass:\"left\"},[_c('span',{staticClass:\"iconfont icon-xiangzuojiantou\",on:{\"click\":_vm.goPrev}}),_c('router-link',{staticClass:\"img\",attrs:{\"tag\":\"div\",\"to\":'/userinfo?id='+_vm.noteInfo.user.id}},[_c('img',{attrs:{\"src\":_vm.noteInfo.user.avatar,\"alt\":\"\"}})]),_c('router-link',{attrs:{\"tag\":\"p\",\"to\":'/userinfo?id='+_vm.noteInfo.user.id}},[_vm._v(_vm._s(_vm.noteInfo.user.username))])],1),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"follow\"},[_vm._v(\"+ 关注\")]),_c('span',{staticClass:\"iconfont icon-fenxiang\",on:{\"click\":function($event){_vm.showShare = true}}})])])]),_c('div',{staticClass:\"noteInfo\"},[_c('div',{staticClass:\"pics\"},_vm._l((_vm.noteInfo.images),function(item,index){return _c('div',{key:index,staticClass:\"pic\"},[_c('img',{attrs:{\"src\":item,\"alt\":\"\"}})])}),0),_c('h3',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.noteInfo.title))]),_c('div',{staticClass:\"contentText\"},[_c('p',{staticClass:\"content\"},[_vm._v(_vm._s(_vm.noteInfo.content))])]),(_vm.noteInfo.article.id != 0)?_c('router-link',{staticClass:\"videoView\",attrs:{\"tag\":\"div\",\"to\":'/videoplay?id=' + _vm.noteInfo.article.id}},[_c('div',{staticClass:\"img\"},[_c('img',{attrs:{\"src\":_vm.noteInfo.article.cover,\"alt\":\"\"}})]),_c('div',{staticClass:\"text\"},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.noteInfo.article.title))]),_c('p',{staticClass:\"name\"},[_vm._v(\"@\"+_vm._s(_vm.noteInfo.article.author.userinfo.username))])])]):_vm._e(),_c('p',{staticClass:\"time\"},[_vm._v(_vm._s(_vm._f(\"changeTimeFormat\")((_vm.noteInfo.addtime * 1000))))])],1),_c('div',{staticClass:\"noteComment\"},[_c('h3',{staticClass:\"title\"},[_vm._v(\"共 \"+_vm._s(_vm.noteCommentsTotal)+\" 条评论\")]),_vm._m(0)]),_c('ul',{staticClass:\"commentInfo\"},_vm._l((_vm.noteComments),function(item){return _c('li',{key:item.id},[_c('router-link',{staticClass:\"img\",attrs:{\"tag\":\"div\",\"to\":'/userinfo?id='+item.userId}},[_c('img',{attrs:{\"src\":item.userDetail.avatar_small,\"alt\":\"\"}})]),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"commentMsg\"},[_c('router-link',{staticClass:\"username\",attrs:{\"tag\":\"div\",\"to\":'/userinfo?id='+item.userId}},[_vm._v(_vm._s(item.userDetail.nickname))]),_c('p',{staticClass:\"content\"},[_vm._v(\" \"+_vm._s(item.contentText)+\" \"),_c('span',[_vm._v(_vm._s(_vm._f(\"changeTimeFormat\")(item.createTimeUnix)))])]),(item.parent)?_c('div',{staticClass:\"commentParent\"},[_c('div',{staticClass:\"commentParentImg\"},[_c('img',{attrs:{\"src\":item.parent.userDetail.avatar_small,\"alt\":\"\"}})]),_c('div',{staticClass:\"commentParentText\"},[_c('p',{staticClass:\"username\"},[_vm._v(_vm._s(item.parent.userDetail.nickname))]),_c('p',{staticClass:\"content\"},[_vm._v(\" \"+_vm._s(item.parent.contentText)+\" \"),_c('span',[_vm._v(_vm._s(_vm._f(\"changeTimeFormat\")(item.parent.createTimeUnix)))])])])]):_vm._e()],1),_c('span',{staticClass:\"iconfont icon-dianzan1\"})])],1)}),0),_c('div',{staticClass:\"noMore\"},[_vm._v(\"暂时没有更多了\")]),_c('div',{staticClass:\"commentNull\"}),_c('div',{staticClass:\"comment\"},[_c('input',{attrs:{\"type\":\"text\",\"placeholder\":\"说点什么吧~\"}}),_c('div',{staticClass:\"zan\"},[_c('span',{class:['iconfont', 'icon-dianzan1', { 'likeactive': _vm.noteInfo.isliked }]}),_vm._v(\" \"+_vm._s(_vm.noteInfo.count.count_liked)+\" \")]),_c('div',{staticClass:\"pinglun\"},[_c('span',{staticClass:\"iconfont icon-pinglun1\"}),_vm._v(_vm._s(_vm.noteCommentsTotal)+\" \")])]),_c('van-share-sheet',{attrs:{\"title\":\"立即分享给好友\",\"options\":_vm.options},model:{value:(_vm.showShare),callback:function ($$v) {_vm.showShare=$$v},expression:\"showShare\"}})],1):_c('div',{staticClass:\"loadingView\"},[_c('div',{staticClass:\"loading\"}),_c('van-loading',{attrs:{\"type\":\"spinner\",\"size\":\"20\",\"vertical\":\"\"}})],1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"yourCommentView\"},[_c('div',{staticClass:\"img\"},[_c('img',{attrs:{\"src\":\"https://cs.xinpianchang.com/passport/default.jpg\",\"alt\":\"\"}})]),_c('div',{staticClass:\"yourCommentBox\"},[_vm._v(\"说说你的看法吧~\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=\"notedetail\" v-if=\"noteInfo && noteComments\">\r\n      <van-sticky>\r\n        <div class=\"top\">\r\n          <div class=\"left\">\r\n            <span class=\"iconfont icon-xiangzuojiantou\" @click=\"goPrev\"></span>\r\n            <router-link tag=\"div\" :to=\"'/userinfo?id='+noteInfo.user.id\" class=\"img\">\r\n              <img :src=\"noteInfo.user.avatar\" alt=\"\" />\r\n            </router-link>\r\n            <router-link tag=\"p\" :to=\"'/userinfo?id='+noteInfo.user.id\" >{{ noteInfo.user.username }}</router-link>\r\n          </div>\r\n          <div class=\"right\">\r\n            <div class=\"follow\">+ 关注</div>\r\n            <span class=\"iconfont icon-fenxiang\" @click=\"showShare = true\"></span>\r\n          </div>\r\n        </div>\r\n      </van-sticky>\r\n      <div class=\"noteInfo\">\r\n        <div class=\"pics\">\r\n          <div\r\n            class=\"pic\"\r\n            v-for=\"(item, index) in noteInfo.images\"\r\n            :key=\"index\"\r\n          >\r\n            <img :src=\"item\" alt=\"\" />\r\n          </div>\r\n        </div>\r\n        <h3 class=\"title\">{{ noteInfo.title }}</h3>\r\n        <div class=\"contentText\">\r\n          <p class=\"content\">{{ noteInfo.content }}</p>\r\n        </div>\r\n\r\n        <router-link\r\n              tag=\"div\"\r\n              :to=\"'/videoplay?id=' + noteInfo.article.id\" class=\"videoView\" v-if=\"noteInfo.article.id != 0\">\r\n          <div class=\"img\">\r\n            <img :src=\"noteInfo.article.cover\" alt=\"\" />\r\n          </div>\r\n          <div class=\"text\">\r\n            <!-- noteInfo.article.author.userinfo.id -->\r\n            <p class=\"title\">{{ noteInfo.article.title }}</p>\r\n            <p class=\"name\">@{{ noteInfo.article.author.userinfo.username }}</p>\r\n          </div>\r\n        </router-link>\r\n        <p class=\"time\">{{ (noteInfo.addtime * 1000) | changeTimeFormat }}</p>\r\n      </div>\r\n      <div class=\"noteComment\">\r\n        <h3 class=\"title\">共 {{ noteCommentsTotal }} 条评论</h3>\r\n        <div class=\"yourCommentView\">\r\n          <div class=\"img\">\r\n            <img src=\"https://cs.xinpianchang.com/passport/default.jpg\" alt=\"\" />\r\n          </div>\r\n          <div class=\"yourCommentBox\">说说你的看法吧~</div>\r\n        </div>\r\n      </div>\r\n      <ul class=\"commentInfo\">\r\n        <li v-for=\"item in noteComments\" :key=\"item.id\">\r\n          <router-link tag=\"div\" :to=\"'/userinfo?id='+item.userId\"  class=\"img\">\r\n            <img :src=\"item.userDetail.avatar_small\" alt=\"\" />\r\n          </router-link>\r\n          <div class=\"right\">\r\n            <div class=\"commentMsg\">\r\n              <router-link tag=\"div\" :to=\"'/userinfo?id='+item.userId\" class=\"username\">{{ item.userDetail.nickname }}</router-link>\r\n              <p class=\"content\">\r\n                {{ item.contentText }}\r\n                <span>{{ item.createTimeUnix | changeTimeFormat }}</span>\r\n              </p>\r\n              <div class=\"commentParent\" v-if=\"item.parent\">\r\n                <div class=\"commentParentImg\">\r\n                  <img :src=\"item.parent.userDetail.avatar_small\" alt=\"\" />\r\n                </div>\r\n                <div class=\"commentParentText\">\r\n                  <p class=\"username\">{{ item.parent.userDetail.nickname }}</p>\r\n                  <p class=\"content\">\r\n                    {{ item.parent.contentText }}\r\n                    <span>{{\r\n                      item.parent.createTimeUnix | changeTimeFormat\r\n                    }}</span>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <span class=\"iconfont icon-dianzan1\"></span>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n      <div class=\"noMore\">暂时没有更多了</div>\r\n      <div class=\"commentNull\"></div>\r\n      <div class=\"comment\">\r\n        <input type=\"text\" placeholder=\"说点什么吧~\" />\r\n        <div class=\"zan\">\r\n          <span :class=\"['iconfont', 'icon-dianzan1', { 'likeactive': noteInfo.isliked }]\"></span>\r\n          {{ noteInfo.count.count_liked }}\r\n        </div>\r\n        <div class=\"pinglun\">\r\n          <span class=\"iconfont icon-pinglun1\"></span>{{ noteCommentsTotal }}\r\n        </div>\r\n      </div>\r\n      <van-share-sheet\r\n      v-model=\"showShare\"\r\n      title=\"立即分享给好友\"\r\n      :options=\"options\"\r\n    />\r\n    </div>\r\n    <div class=\"loadingView\" v-else>\r\n      <div class=\"loading\"></div>\r\n      <van-loading type=\"spinner\" size=\"20\" vertical/>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getNoteDetail, getNoteComment } from \"../api/notes\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      noteInfo: null,\r\n      noteComments: null,\r\n      noteCommentsTotal: 0,\r\n      showShare: false,\r\n      loginPhone:'',\r\n      options: [\r\n        [\r\n          { name: \"微信\", icon: \"wechat\" },\r\n          { name: \"朋友圈\", icon: \"wechat-moments\" },\r\n          { name: \"微博\", icon: \"weibo\" },\r\n          { name: \"QQ\", icon: \"qq\" },\r\n        ],\r\n        [\r\n          { name: \"复制链接\", icon: \"link\" },\r\n          { name: \"分享海报\", icon: \"poster\" },\r\n          { name: \"二维码\", icon: \"qrcode\" },\r\n          { name: \"小程序码\", icon: \"weapp-qrcode\" },\r\n        ],\r\n      ],\r\n    };\r\n  },\r\n  methods: {\r\n    goPrev() {\r\n      this.$router.go(-1);\r\n    },\r\n    getNoteDetailFun() {\r\n      let userMsg = localStorage.getItem(\"userlist\");\r\n      let userlist = [];\r\n      if (!userMsg) {\r\n        return;\r\n      }\r\n      userlist = JSON.parse(userMsg);\r\n      let index = userlist.findIndex((item) => item.type == \"login\");\r\n      if (index == -1) {\r\n        return;\r\n      }\r\n      this.loginPhone = userlist[index].phone;\r\n      // this.$route.query拿取接口头部携带的数据\r\n      let id = this.$route.query.id;\r\n      getNoteDetail(id).then((data) => {\r\n        // console.log(data);\r\n        this.noteInfo = data.data;\r\n        let notelikeMsg = localStorage.getItem(\"notelikeList\")\r\n        if(!notelikeMsg){return}\r\n        let notelikeList = JSON.parse(notelikeMsg);\r\n        let noteindex = notelikeList.findIndex(\r\n          (item) => item.phone == this.loginPhone\r\n        );\r\n        if(noteindex == -1){return}\r\n        let noteIdList = notelikeList[noteindex].noteIds;\r\n        let hasSameIdIndex = noteIdList.findIndex(item=>item == this.noteInfo.id)\r\n        if(hasSameIdIndex != -1){\r\n          this.noteInfo.isliked = true;\r\n          this.noteInfo.count.count_liked += 1;\r\n        }\r\n      });\r\n    },\r\n    getNoteCommentFun() {\r\n      let id = this.$route.query.id;\r\n      getNoteComment(id).then((data) => {\r\n        // console.log(data);\r\n        this.noteComments = data.data;\r\n        this.noteCommentsTotal = data.total;\r\n      });\r\n    },\r\n  },\r\n  filters: {\r\n    changeTimeFormat(timespan) {\r\n      var dateTime = new Date(timespan); // 将传进来的字符串或者毫秒转为标准时间\r\n      var year = dateTime.getFullYear();\r\n      var month = dateTime.getMonth() + 1;\r\n      var day = dateTime.getDate();\r\n      var hour = dateTime.getHours();\r\n      var minute = dateTime.getMinutes();\r\n      // var second = dateTime.getSeconds()\r\n      var millisecond = dateTime.getTime(); // 将当前编辑的时间转换为毫秒\r\n      var now = new Date(); // 获取本机当前的时间\r\n      var nowNew = now.getTime(); // 将本机的时间转换为毫秒\r\n      var milliseconds = 0;\r\n      var timeSpanStr;\r\n      milliseconds = nowNew - millisecond;\r\n      if (milliseconds <= 1000 * 60 * 1) {\r\n        // 小于一分钟展示为刚刚\r\n        timeSpanStr = \"刚刚\";\r\n      } else if (\r\n        1000 * 60 * 1 < milliseconds &&\r\n        milliseconds <= 1000 * 60 * 60\r\n      ) {\r\n        // 大于一分钟小于一小时展示为分钟\r\n        timeSpanStr = Math.round(milliseconds / (1000 * 60)) + \"分钟前\";\r\n      } else if (\r\n        1000 * 60 * 60 * 1 < milliseconds &&\r\n        milliseconds <= 1000 * 60 * 60 * 24\r\n      ) {\r\n        // 大于一小时小于一天展示为小时\r\n        timeSpanStr = Math.round(milliseconds / (1000 * 60 * 60)) + \"小时前\";\r\n      } else if (\r\n        1000 * 60 * 60 * 24 < milliseconds &&\r\n        milliseconds <= 1000 * 60 * 60 * 24 * 15\r\n      ) {\r\n        // 大于一天小于十五天展示位天\r\n        timeSpanStr = Math.round(milliseconds / (1000 * 60 * 60 * 24)) + \"天前\";\r\n      } else if (\r\n        milliseconds > 1000 * 60 * 60 * 24 * 15 &&\r\n        year === now.getFullYear()\r\n      ) {\r\n        timeSpanStr = month + \"-\" + day + \" \" + hour + \":\" + minute;\r\n      } else {\r\n        timeSpanStr =\r\n          year + \"-\" + month + \"-\" + day + \" \" + hour + \":\" + minute;\r\n      }\r\n      return timeSpanStr;\r\n    },\r\n  },\r\n  created() {\r\n    this.getNoteDetailFun();\r\n    this.getNoteCommentFun();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.notedetail {\r\n  width: 100%;\r\n  background-color: #fefefe;\r\n  .top {\r\n    width: 100%;\r\n    height: 40px;\r\n    background-color: #fefefe;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    border-bottom: 1px solid #e5e5e5;\r\n    .left {\r\n      display: flex;\r\n      align-items: center;\r\n      .iconfont {\r\n        font-size: 15px;\r\n        font-weight: bold;\r\n        padding-left: 12px;\r\n        padding-right: 10px;\r\n      }\r\n      .img {\r\n        width: 25px;\r\n        height: 25px;\r\n        border-radius: 50%;\r\n        border: 1px solid #f0f0f0;\r\n        overflow: hidden;\r\n        img {\r\n          width: 25px;\r\n          height: 25px;\r\n        }\r\n      }\r\n      p {\r\n        line-height: 40px;\r\n        font-size: 12px;\r\n        color: #000716;\r\n        margin-left: 8px;\r\n      }\r\n    }\r\n    .right {\r\n      display: flex;\r\n      align-items: center;\r\n      .follow {\r\n        width: 66px;\r\n        height: 26px;\r\n        line-height: 26px;\r\n        text-align: center;\r\n        border-radius: 13px;\r\n        border: 1px solid #d14835;\r\n        color: #d65c4a;\r\n        font-size: 12px;\r\n      }\r\n      .iconfont {\r\n        font-size: 20px;\r\n        margin-left: 13px;\r\n        margin-right: 13px;\r\n        line-height: 40px;\r\n      }\r\n    }\r\n  }\r\n  .noteInfo {\r\n    border-bottom: 1px solid #e5e6ea;\r\n    h3.title {\r\n      // height: 25px;\r\n      line-height: 25px;\r\n      white-space: wrap;\r\n      padding: 0 16px;\r\n      font-size: 15px;\r\n      font-family: \"黑体\";\r\n      // font-weight: bold;\r\n    }\r\n    .contentText {\r\n      p.content {\r\n        padding: 0 16px;\r\n        color: #0e1624;\r\n        font-size: 13px;\r\n        line-height: 23px;\r\n        white-space: wrap;\r\n        height: auto;\r\n      }\r\n    }\r\n    .time {\r\n      padding-left: 16px;\r\n      font-size: 12px;\r\n      line-height: 12px;\r\n      color: #aaafb9;\r\n      margin: 16px 0;\r\n    }\r\n    .pics {\r\n      padding-left: 16px;\r\n      padding-top: 10px;\r\n      padding-bottom: 9px;\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      overflow: hidden;\r\n      //   justify-content: space-between;\r\n      .pic {\r\n        width: 110px;\r\n        height: 110px;\r\n        border-radius: 3px;\r\n        overflow: hidden;\r\n        margin-right: 6px;\r\n        margin-bottom: 6px;\r\n        img {\r\n          width: 110px;\r\n          height: 110px;\r\n          object-fit: cover;\r\n        }\r\n      }\r\n    }\r\n    .videoView {\r\n      margin: 0 16px;\r\n      margin-top: 10px;\r\n      margin-bottom: 13px;\r\n      border-radius: 4px;\r\n      background-color: #f3f4f5;\r\n      overflow: hidden;\r\n      display: flex;\r\n      .img {\r\n        width: 160px;\r\n        img {\r\n          width: 160px;\r\n        }\r\n      }\r\n      .text {\r\n        padding: 0 12px;\r\n        p.title {\r\n          margin-top: 12px;\r\n          line-height: 20px;\r\n          font-size: 14px;\r\n          color: #030c1a;\r\n          height: auto;\r\n        }\r\n        p.name {\r\n          height: 25px;\r\n          line-height: 25px;\r\n          font-size: 12px;\r\n          color: #a1a7b1;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .noteComment {\r\n    padding: 0 16px;\r\n    .title {\r\n      height: 49px;\r\n      line-height: 49px;\r\n      font-size: 13px;\r\n      color: #4d5561;\r\n    }\r\n    .yourCommentView {\r\n      display: flex;\r\n      .img {\r\n        width: 34px;\r\n        height: 34px;\r\n        border-radius: 50%;\r\n        overflow: hidden;\r\n        img {\r\n          width: 34px;\r\n          height: 34px;\r\n        }\r\n      }\r\n      .yourCommentBox {\r\n        margin-left: 10px;\r\n        margin-bottom: 5px;\r\n        height: 34px;\r\n        line-height: 34px;\r\n        border-radius: 17px;\r\n        flex: 1;\r\n        background-color: #f3f4f5;\r\n        padding-left: 15px;\r\n        color: #9da2ae;\r\n        font-size: 13px;\r\n      }\r\n    }\r\n  }\r\n  ul.commentInfo {\r\n    padding-left: 16px;\r\n    li {\r\n      margin-top: 14px;\r\n      display: flex;\r\n      .img {\r\n        width: 32px;\r\n        height: 32px;\r\n        border-radius: 50%;\r\n        overflow: hidden;\r\n        margin-top: 2px;\r\n        img {\r\n          width: 32px;\r\n          height: 32px;\r\n        }\r\n      }\r\n      .right {\r\n        flex: 1;\r\n        margin-left: 12px;\r\n        padding-bottom: 15px;\r\n        padding-right: 16px;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        border-bottom: 1px solid #e5e6ea;\r\n        .commentMsg {\r\n          margin-right: 20px;\r\n          .username {\r\n            height: 22px;\r\n            line-height: 22px;\r\n            font-size: 13px;\r\n            color: #9da2ae;\r\n          }\r\n          .content {\r\n            line-height: 19px;\r\n            font-size: 13px;\r\n            color: #212936;\r\n            span {\r\n              display: inline-block;\r\n              color: #9da2ae;\r\n              font-size: 12px;\r\n              transform: scale(0.9);\r\n            }\r\n          }\r\n          .commentParent {\r\n            display: flex;\r\n            margin-top: 16px;\r\n            .commentParentImg {\r\n              width: 23px;\r\n              height: 23px;\r\n              border-radius: 50%;\r\n              overflow: hidden;\r\n              img {\r\n                width: 23px;\r\n                height: 23px;\r\n              }\r\n            }\r\n            .commentParentText {\r\n              flex: 1;\r\n              margin-left: 10px;\r\n              .username {\r\n                line-height: 23px;\r\n                font-size: 12px;\r\n                // color: #000;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        .iconfont {\r\n          font-size: 15px;\r\n          color: #6c727f;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .noMore {\r\n    width: 100%;\r\n    height: 48px;\r\n    line-height: 48px;\r\n    text-align: center;\r\n    font-size: 12px;\r\n    color: #a1a1a1;\r\n  }\r\n  .comment {\r\n    width: 100%;\r\n    height: 45px;\r\n    position: fixed;\r\n    left: 0;\r\n    bottom: 0;\r\n    background-color: #fefefe;\r\n    border-top: 1px solid #d1d4da;\r\n    display: flex;\r\n    align-items: center;\r\n    input {\r\n      flex: 1;\r\n      background: none;\r\n      outline: none;\r\n      background-color: #f3f4f5;\r\n      height: 34px;\r\n      line-height: 34px;\r\n      padding-left: 20px;\r\n      font-size: 13px;\r\n      border: none;\r\n      margin: 0 16px;\r\n      border-radius: 17px;\r\n      &::placeholder {\r\n        color: #979da9;\r\n      }\r\n    }\r\n    input:focus {\r\n      border: none;\r\n    }\r\n    .zan,\r\n    .pinglun {\r\n      height: 45px;\r\n      line-height: 40px;\r\n      padding-right: 10px;\r\n      font-size: 12px;\r\n      .iconfont {\r\n        font-size: 18px;\r\n        line-height: 45px;\r\n      }\r\n      .likeactive {\r\n        color: red;\r\n      }\r\n    }\r\n  }\r\n  .commentNull {\r\n    height: 45px;\r\n    width: 100%;\r\n  }\r\n}\r\n.loadingView {\r\n  .loading {\r\n    width: 100%;\r\n    height: 240px;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/_thread-loader@3.0.4@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!./NotesDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_thread-loader@3.0.4@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!./NotesDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NotesDetail.vue?vue&type=template&id=3efe943d&\"\nimport script from \"./NotesDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./NotesDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NotesDetail.vue?vue&type=style&index=0&id=3efe943d&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.10.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["getNotes","request","url","method","getNoteDetail","noteId","getNoteComment","render","_vm","this","_c","_self","noteInfo","noteComments","staticClass","on","goPrev","attrs","user","id","avatar","_v","_s","username","$event","showShare","_l","images","item","index","key","title","content","article","cover","author","userinfo","_e","_f","addtime","noteCommentsTotal","_m","userId","userDetail","avatar_small","nickname","contentText","createTimeUnix","parent","class","isliked","count","count_liked","options","model","value","callback","$$v","expression","staticRenderFns","data","loginPhone","name","icon","methods","getNoteDetailFun","userlist","getNoteCommentFun","filters","changeTimeFormat","milliseconds","timeSpanStr","year","created","component"],"sourceRoot":""}