{"version":3,"file":"js/278.047e2368.js","mappings":"0PAGO,SAASA,EAAYC,GACxB,OAAOC,EAAAA,EAAAA,GAAQ,CACXC,IAAI,QAAUF,EACdG,OAAO,OAEd,CAeM,SAASC,EAAgBJ,EAAIK,GAChC,OAAOJ,EAAAA,EAAAA,GAAQ,CACXC,IAAI,QAASF,EAAK,YAClBG,OAAO,MACPE,UAEP,CAMM,SAASC,EAAYN,EAAIK,GAC5B,OAAOJ,EAAAA,EAAAA,GAAQ,CACXC,IAAI,QAAQF,EAAI,qBAChBG,OAAO,MACPE,UAEP,CAMM,SAASE,EAAiBP,EAAIK,GACjC,OAAOJ,EAAAA,EAAAA,GAAQ,CACXC,IAAI,QAAQF,EAAI,aAChBG,OAAO,MACPE,UAEP,CAMM,SAASG,EAAiBR,EAAIK,GACjC,OAAOJ,EAAAA,EAAAA,GAAQ,CACXC,IAAI,QAAQF,EAAI,aAChBG,OAAO,MACPE,UAEP,C,oECjED,IAAII,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,OAAO,CAACE,YAAY,gCAAgCC,GAAG,CAAC,MAAQL,EAAIM,UAAuB,aAAZN,EAAIO,KAAqBL,EAAG,IAAI,CAACF,EAAIQ,GAAG,WAAwB,aAAZR,EAAIO,KAAqBL,EAAG,IAAI,CAACF,EAAIQ,GAAG,WAAWR,EAAIS,KAAKP,EAAG,MAAM,CAACE,YAAY,YAAYF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,WAAW,CAACQ,MAAM,CAAC,SAAWV,EAAIW,SAAS,gBAAgB,SAASN,GAAG,CAAC,KAAOL,EAAIY,QAAQC,MAAM,CAACC,MAAOd,EAAIe,QAASC,SAAS,SAAUC,GAAMjB,EAAIe,QAAQE,CAAI,EAACC,WAAW,YAAYlB,EAAImB,GAAInB,EAAIoB,UAAU,SAASC,GAAM,OAAOnB,EAAG,cAAc,CAACoB,IAAID,EAAKE,OAAOnB,YAAY,UAAUM,MAAM,CAAC,IAAM,MAAM,GAAK,gBAAgBW,EAAKE,SAAS,CAACrB,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACQ,MAAM,CAAC,IAAMW,EAAKG,SAASC,OAAO,IAAM,QAAQvB,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,IAAI,CAACE,YAAY,YAAY,CAACJ,EAAIQ,GAAGR,EAAI0B,GAAGL,EAAKG,SAASG,aAAazB,EAAG,IAAI,CAACE,YAAY,MAAM,CAACJ,EAAIQ,GAAG,MAAMR,EAAI0B,GAAGL,EAAKG,SAASI,MAAMC,uBAAuB3B,EAAG,MAAM,CAACE,YAAY,UAAU,CAACJ,EAAIQ,GAAG,SAAU,IAAE,IAAI,IAClmC,EACGsB,EAAkB,G,UCgCtB,GACAC,OACA,OACAX,SAAAA,GACAL,SAAAA,EACAJ,UAAAA,EACAqB,KAAAA,EACAzB,KAAAA,GAEA,EACA0B,QAAAA,CACArB,SACA,2BACA,iCACA,wBACAf,EAAAA,EAAAA,IAAAA,EAAAA,CAAAmC,KAAAA,KAAAA,OAAA,UAEA,kBACA,eACA,2BACA,8BAGA,gBAIA,gBAGA,qCACA,kBAEA,gBAEA,yBACAlC,EAAAA,EAAAA,IAAAA,EAAAA,CAAAkC,KAAAA,KAAAA,OAAA,UAEA,kBACA,eACA,2BACA,8BAGA,gBAIA,gBAGA,qCACA,kBAEA,eAGA,EACA1B,SACA,mBACA,IC9F8S,I,UCQ1S4B,GAAY,OACd,EACAnC,EACA+B,GACA,EACA,KACA,KACA,MAIF,EAAeI,EAAiB,O","sources":["webpack://jianyi/./src/api/user.js","webpack://jianyi/./src/views/FollowView.vue","webpack://jianyi/src/views/FollowView.vue","webpack://jianyi/./src/views/FollowView.vue?257c","webpack://jianyi/./src/views/FollowView.vue?51e4"],"sourcesContent":["import request from \"./http\";\r\n\r\n// 用户主页\r\nexport function getUserPage(uid){\r\n    return request({\r\n        url:\"user/\" + uid,\r\n        method:\"get\"\r\n    })\r\n}\r\n\r\n// 用户专辑\r\nexport function getUserCollection(uid){\r\n    return request({\r\n        url:\"user/\"+uid+\"/collections\",\r\n        method:\"get\",\r\n    })\r\n}\r\n\r\n/**\r\n * 用户作品\r\n * @param {String} order 类型 (默认空 view最热 new最新)\r\n * @param {String} page 分页页码\r\n */\r\nexport function getUserArticles(uid,params){\r\n    return request({\r\n        url:\"user/\"+ uid +\"/articles\",\r\n        method:\"get\",\r\n        params\r\n    })\r\n}\r\n\r\n/**\r\n * 用户喜欢\r\n * @param {string} lastIndexId 分页起始id 上一页最后一项id\r\n */\r\nexport function getUserLike(uid,params){\r\n    return request({\r\n        url:\"user/\"+uid+\"/articles-approved\",\r\n        method:\"get\",\r\n        params\r\n    })\r\n}\r\n\r\n/**\r\n * 用户粉丝\r\n * @param {number} page 分页页码\r\n */\r\nexport function getUserFollowers(uid,params){\r\n    return request({\r\n        url:\"user/\"+uid+\"/followers\",\r\n        method:\"get\",\r\n        params\r\n    })\r\n}\r\n\r\n/**\r\n * 用户关注\r\n * @param {number} page 分页页码\r\n */\r\nexport function getUserFollowees(uid,params){\r\n    return request({\r\n        url:\"user/\"+uid+\"/followees\",\r\n        method:\"get\",\r\n        params\r\n    })\r\n}","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"followview\"},[_c('div',{staticClass:\"followTop\"},[_c('span',{staticClass:\"iconfont icon-xiangzuojiantou\",on:{\"click\":_vm.goPrev}}),(_vm.type == 'followers')?_c('p',[_vm._v(\"TA的粉丝\")]):(_vm.type == 'followees')?_c('p',[_vm._v(\"TA的关注\")]):_vm._e(),_c('div',{staticClass:\"right\"})]),_c('div',{staticClass:\"followRuslt\"},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\"},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.userList),function(item){return _c('router-link',{key:item.userid,staticClass:\"infoBox\",attrs:{\"tag\":\"div\",\"to\":'/userinfo?id='+item.userid}},[_c('div',{staticClass:\"authorInfo\"},[_c('div',{staticClass:\"img\"},[_c('img',{attrs:{\"src\":item.userinfo.avatar,\"alt\":\"\"}})]),_c('div',{staticClass:\"text\"},[_c('p',{staticClass:\"nickname\"},[_vm._v(_vm._s(item.userinfo.username))]),_c('p',{staticClass:\"p2\"},[_vm._v(\"粉丝 \"+_vm._s(item.userinfo.count.count_follower))])])]),_c('div',{staticClass:\"follow\"},[_vm._v(\"关注\")])])}),1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"followview\">\r\n    <div class=\"followTop\">\r\n      <span class=\"iconfont icon-xiangzuojiantou\" @click=\"goPrev\"></span>\r\n      <p v-if=\"type == 'followers'\">TA的粉丝</p>\r\n      <p v-else-if=\"type == 'followees'\">TA的关注</p>\r\n      <div class=\"right\"></div>\r\n    </div>\r\n    <div class=\"followRuslt\">\r\n      <van-list\r\n        v-model=\"loading\"\r\n        :finished=\"finished\"\r\n        finished-text=\"没有更多了\"\r\n        @load=\"onLoad\"\r\n      >\r\n        <router-link tag=\"div\" :to=\"'/userinfo?id='+item.userid\" class=\"infoBox\" v-for=\"item in userList\" :key=\"item.userid\">\r\n          <div class=\"authorInfo\">\r\n            <div class=\"img\">\r\n              <img :src=\"item.userinfo.avatar\" alt=\"\" />\r\n            </div>\r\n            <div class=\"text\">\r\n              <p class=\"nickname\">{{item.userinfo.username}}</p>\r\n              <p class=\"p2\">粉丝 {{item.userinfo.count.count_follower}}</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"follow\">关注</div>\r\n        </router-link>\r\n      </van-list>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getUserFollowers, getUserFollowees } from \"../api/user\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      userList: [],\r\n      loading: false,\r\n      finished: false,\r\n      page: 1,\r\n      type:'',\r\n    };\r\n  },\r\n  methods: {\r\n    onLoad() {\r\n      let uid = this.$route.query.id;\r\n      this.type = this.$route.query.type;\r\n      if (this.type == \"followers\") {\r\n        getUserFollowers(uid, { page: this.page }).then((data) => {\r\n          // console.log(\"Followers=>\", data);\r\n          let newData = data.data.list;\r\n          if (this.page > 1) {\r\n            for (let i = 0; i < newData.length; i++) {\r\n              this.userList.push(newData[i]);\r\n            }\r\n          } else {\r\n            this.userList = newData;\r\n          }\r\n\r\n          // 加载状态结束\r\n          this.loading = false;\r\n\r\n          // 数据全部加载完成\r\n          if (this.userList.length >= data.data.total) {\r\n            this.finished = true;\r\n          }\r\n          this.page += 1;\r\n        });\r\n      } else if (this.type == \"followees\") {\r\n        getUserFollowees(uid, { page: this.page }).then((data) => {\r\n          // console.log(\"Followees=>\", data);\r\n          let newData = data.data.list;\r\n          if (this.page > 1) {\r\n            for (let i = 0; i < newData.length; i++) {\r\n              this.userList.push(newData[i]);\r\n            }\r\n          } else {\r\n            this.userList = newData;\r\n          }\r\n\r\n          // 加载状态结束\r\n          this.loading = false;\r\n\r\n          // 数据全部加载完成\r\n          if (this.userList.length >= data.data.total) {\r\n            this.finished = true;\r\n          }\r\n          this.page += 1;\r\n        });\r\n      }\r\n    },\r\n    goPrev(){\r\n      this.$router.go(-1)\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.followview {\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: #fefefe;\r\n  .followTop {\r\n    width: 100%;\r\n    height: 42px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    border-bottom: 1px solid #f7f7f7;\r\n    .iconfont {\r\n      font-size: 15px;\r\n      font-weight: bold;\r\n      padding-left: 20px;\r\n    }\r\n    p {\r\n      font-size: 16px;\r\n    }\r\n    .right {\r\n      width: 15px;\r\n      height: 15px;\r\n      padding-right: 20px;\r\n    }\r\n  }\r\n  .followRuslt {\r\n    padding: 0 20px;\r\n    .infoBox {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      padding: 15px 0;\r\n      border-bottom: 1px solid #f7f7f7;\r\n      .authorInfo {\r\n        flex: 1;\r\n        display: flex;\r\n        overflow: hidden;\r\n        .img {\r\n          width: 46px;\r\n          height: 46px;\r\n          border-radius: 50%;\r\n          overflow: hidden;\r\n          img {\r\n            width: 46px;\r\n            height: 46px;\r\n          }\r\n        }\r\n        .text {\r\n          flex: 1;\r\n          margin-left: 8px;\r\n          overflow: hidden;\r\n          p.nickname {\r\n            height: 23px;\r\n            line-height: 23px;\r\n            font-size: 13px;\r\n            color: #313131;\r\n            white-space: nowrap;\r\n            overflow: hidden;\r\n            text-overflow: ellipsis;\r\n          }\r\n          p.p2 {\r\n            height: 17px;\r\n            line-height: 17px;\r\n            font-size: 12px;\r\n            transform: scale(0.8);\r\n            margin-left: -26px;\r\n            color: #b2b2b2;\r\n          }\r\n        }\r\n      }\r\n      .follow {\r\n        width: 68px;\r\n        height: 26px;\r\n        line-height: 26px;\r\n        text-align: center;\r\n        font-size: 12px;\r\n        background-color: #f9edeb;\r\n        color: #d45543;\r\n        border-radius: 13px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/_thread-loader@3.0.4@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!./FollowView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_thread-loader@3.0.4@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!./FollowView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FollowView.vue?vue&type=template&id=3f4b2ce2&\"\nimport script from \"./FollowView.vue?vue&type=script&lang=js&\"\nexport * from \"./FollowView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FollowView.vue?vue&type=style&index=0&id=3f4b2ce2&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.10.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["getUserPage","uid","request","url","method","getUserArticles","params","getUserLike","getUserFollowers","getUserFollowees","render","_vm","this","_c","_self","staticClass","on","goPrev","type","_v","_e","attrs","finished","onLoad","model","value","loading","callback","$$v","expression","_l","userList","item","key","userid","userinfo","avatar","_s","username","count","count_follower","staticRenderFns","data","page","methods","component"],"sourceRoot":""}