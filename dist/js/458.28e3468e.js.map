{"version":3,"file":"js/458.28e3468e.js","mappings":"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","sources":["webpack://jianyi/./src/api/search.js","webpack://jianyi/./src/views/SearchMsg.vue","webpack://jianyi/src/views/SearchMsg.vue","webpack://jianyi/./src/views/SearchMsg.vue?1b77","webpack://jianyi/./src/views/SearchMsg.vue?235d"],"sourcesContent":["import request from \"./http\";\r\n\r\n// 发现页\r\nexport function getPageDiscovery(){\r\n    return request({\r\n        url:\"page/discovery\",\r\n        method:\"get\"\r\n    })\r\n}\r\n\r\n// 搜索页热门关键词\r\nexport function getRecommendKws(){\r\n    return request({\r\n        url:\"search/recommend_kws\",\r\n        method:\"get\"\r\n    })\r\n}\r\n\r\n/**\r\n * 搜索\r\n * @param {String} type 搜索类型 (article文章 creator作者)\r\n * @param {String} kw 关键词\r\n * @param {String} sort 排序方式 (defalut 默认, addtime 最新, hot 最热)\r\n */\r\nexport function getSearchInfo(params){\r\n    return request({\r\n        url:\"search\",\r\n        method:\"get\",\r\n        params\r\n    })\r\n}\r\n\r\n/**\r\n * 分类视频\r\n * @param {String} category_id 分类id\r\n * @param {String} page 页码\r\n */\r\n export function getCategoryArticles(params){\r\n    return request({\r\n        url:\"articles\",\r\n        method:\"get\",\r\n        params\r\n    })\r\n}\r\n\r\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"searchMsg\"},[_c('van-sticky',[_c('div',{staticClass:\"searchtop\"},[_c('div',{staticClass:\"searchNav\"},[_c('span',{staticClass:\"iconfont icon-sousuoxiao\"}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.keywords),expression:\"keywords\"}],attrs:{\"type\":\"text\",\"placeholder\":\"太爱了!新恒结衣夏日清新广告\"},domProps:{\"value\":(_vm.keywords)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.search.apply(null, arguments)},\"input\":function($event){if($event.target.composing)return;_vm.keywords=$event.target.value}}}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.keywords),expression:\"keywords\"}],staticClass:\"iconfont icon-guanbi2fill\",on:{\"click\":_vm.quxiaoClick}})]),_c('router-link',{staticClass:\"quxiao\",attrs:{\"tag\":\"div\",\"to\":\"/searchview\"}},[_vm._v(\"取消\")])],1)]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isSearch),expression:\"isSearch\"}],staticClass:\"noSearch\"},[_c('div',{staticClass:\"history\"},[(_vm.historyList)?_c('div',{staticClass:\"title\"},[_c('h3',[_vm._v(\"历史记录\")]),_c('span',{staticClass:\"iconfont icon-lajitong\",on:{\"click\":_vm.delHistroyList}})]):_vm._e(),_c('ul',_vm._l((_vm.historyList),function(i,index){return _c('li',{key:index,on:{\"click\":function($event){return _vm.kwSearch(i)}}},[_vm._v(\" \"+_vm._s(i)+\" \")])}),0)]),_c('div',{staticClass:\"hotSearch\"},[_c('h3',[_vm._v(\"热门搜索\")]),_c('ul',_vm._l((_vm.recommendkws),function(item){return _c('li',{key:item.id,on:{\"click\":function($event){return _vm.kwSearch(item.name)}}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),0)])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isSearch),expression:\"!isSearch\"}],staticClass:\"yesSearch\"},[_c('van-sticky',{attrs:{\"offset-top\":55}},[_c('div',{staticClass:\"typeTile\"},[_c('div',[_c('span',{class:{ active: _vm.searchType == 1 },on:{\"click\":function($event){_vm.searchType = 1}}},[_vm._v(\"作品\")])]),_c('div',[_c('span',{class:{ active: _vm.searchType == 2 },on:{\"click\":function($event){_vm.searchType = 2}}},[_vm._v(\"创作人\")])])])]),(!_vm.worksData)?_c('div',{staticClass:\"loadingView\"},[_c('div',{staticClass:\"loading\"}),_c('van-loading',{attrs:{\"type\":\"spinner\",\"size\":\"20\",\"vertical\":\"\"}})],1):_c('div',[(_vm.worksData)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.searchType == 1),expression:\"searchType == 1\"}],staticClass:\"works\"},[_c('van-sticky',{attrs:{\"offset-top\":93}},[_c('div',{staticClass:\"msgtop\"},[_c('div',{on:{\"click\":function($event){_vm.menuDispaly = !_vm.menuDispaly}}},[_vm._v(\" \"+_vm._s(_vm.type[_vm.typeIndex])+\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.menuDispaly),expression:\"!menuDispaly\"}],staticClass:\"iconfont icon-xiangxiazhankai\"}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.menuDispaly),expression:\"menuDispaly\"}],staticClass:\"iconfont icon-shouqi\"})])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.menuDispaly),expression:\"menuDispaly\"}],staticClass:\"dropdownMenu\"},_vm._l((_vm.type),function(typeitem,index){return _c('p',{key:index,on:{\"click\":function($event){return _vm.typeChange(index)}}},[_vm._v(\" \"+_vm._s(typeitem)+\" \")])}),0)]),_c('div',{staticClass:\"worksRuslt\"},[_c('p',{staticClass:\"countinfo\"},[_vm._v(\" 共 \"),_c('span',[_vm._v(_vm._s(_vm.worksData.total))]),_vm._v(\" 部作品 \")]),_vm._l((_vm.worksData.list),function(item){return _c('router-link',{key:item.id,staticClass:\"videoInfo\",attrs:{\"tag\":\"div\",\"to\":'/videoplay?id=' + item.id}},[_c('div',{staticClass:\"Bigimg\"},[_c('img',{attrs:{\"src\":item.cover,\"alt\":\"\"}})]),_c('div',{staticClass:\"detailInfo\"},[_c('h4',[_vm._v(_vm._s(item.title))]),_c('div',{staticClass:\"count\"},[_vm._v(\" 播放 \"+_vm._s(item.count.count_view)+\" · 喜欢 \"+_vm._s(item.count.count_like)+\" \")]),(item.team[0])?_c('div',{staticClass:\"allAuthor\"},[_c('div',{staticClass:\"pics\"},[_c('div',{staticClass:\"img img1\"},[_c('img',{attrs:{\"src\":item.team[0].userinfo.avatar,\"alt\":\"\"}})]),(item.team[1])?_c('div',{staticClass:\"img img2\"},[_c('img',{attrs:{\"src\":item.team[1].userinfo.avatar,\"alt\":\"\"}})]):_vm._e(),(item.team[2])?_c('div',{staticClass:\"img img3\"},[_c('img',{attrs:{\"src\":item.team[2].userinfo.avatar,\"alt\":\"\"}})]):_vm._e()]),_c('div',{staticClass:\"all\"},[_c('span',{staticClass:\"firstname\"},[_vm._v(_vm._s(item.team[0].userinfo.username))]),_c('span',[_vm._v(\"等\"+_vm._s(item.team_user_count)+\"位创作人\")])])]):_c('div',{staticClass:\"allAuthor\"},[_c('div',{staticClass:\"pic\"},[_c('div',{staticClass:\"img img1\"},[_c('img',{attrs:{\"src\":item.author.userinfo.avatar,\"alt\":\"\"}})])]),_c('div',{staticClass:\"all\"},[_vm._v(_vm._s(item.author.userinfo.username))])])])])})],2)],1):_vm._e(),(_vm.creatorData)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.searchType == 2),expression:\"searchType == 2\"}],staticClass:\"author\"},[_c('p',{staticClass:\"countinfo\"},[_vm._v(\" 共 \"),_c('span',[_vm._v(_vm._s(_vm.creatorData.total))]),_vm._v(\" 位创作人 \")]),_c('div',{staticClass:\"authorRuslt\"},_vm._l((_vm.creatorData.list),function(item){return _c('router-link',{key:item.id,staticClass:\"infoBox\",attrs:{\"tag\":\"div\",\"to\":'/userinfo?id=' + item.id}},[_c('div',{staticClass:\"authorInfo\"},[_c('div',{staticClass:\"img\"},[_c('img',{attrs:{\"src\":item.avatar,\"alt\":\"\"}})]),_c('div',{staticClass:\"text\"},[_c('p',{staticClass:\"nickname\"},[_vm._v(_vm._s(item.username))]),_c('p',{staticClass:\"p2\"},[_vm._v(\" \"+_vm._s(item.occupation)+\" · 粉丝 \"+_vm._s(item.count.count_follower)+\" \")])])]),_c('div',{staticClass:\"follow\"},[_vm._v(\"关注\")])])}),1)]):_vm._e()])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"searchMsg\">\r\n    <van-sticky>\r\n      <div class=\"searchtop\">\r\n        <div class=\"searchNav\">\r\n          <span class=\"iconfont icon-sousuoxiao\"></span>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"太爱了!新恒结衣夏日清新广告\"\r\n            v-model=\"keywords\"\r\n            @keyup.enter=\"search\"\r\n          />\r\n          <span\r\n            class=\"iconfont icon-guanbi2fill\"\r\n            v-show=\"keywords\"\r\n            @click=\"quxiaoClick\"\r\n          ></span>\r\n        </div>\r\n        <router-link tag=\"div\" to=\"/searchview\" class=\"quxiao\"\r\n          >取消</router-link\r\n        >\r\n      </div>\r\n    </van-sticky>\r\n    <div class=\"noSearch\" v-show=\"isSearch\">\r\n      <div class=\"history\">\r\n        <div class=\"title\" v-if=\"historyList\">\r\n          <h3>历史记录</h3>\r\n          <span class=\"iconfont icon-lajitong\" @click=\"delHistroyList\"></span>\r\n        </div>\r\n        <ul>\r\n          <li\r\n            v-for=\"(i, index) in historyList\"\r\n            :key=\"index\"\r\n            @click=\"kwSearch(i)\"\r\n          >\r\n            {{ i }}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"hotSearch\">\r\n        <h3>热门搜索</h3>\r\n        <ul>\r\n          <li\r\n            v-for=\"item in recommendkws\"\r\n            :key=\"item.id\"\r\n            @click=\"kwSearch(item.name)\"\r\n          >\r\n            {{ item.name }}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n    <div class=\"yesSearch\" v-show=\"!isSearch\">\r\n      <van-sticky :offset-top=\"55\">\r\n        <div class=\"typeTile\">\r\n          <div>\r\n            <span :class=\"{ active: searchType == 1 }\" @click=\"searchType = 1\"\r\n              >作品</span\r\n            >\r\n          </div>\r\n          <div>\r\n            <span :class=\"{ active: searchType == 2 }\" @click=\"searchType = 2\"\r\n              >创作人</span\r\n            >\r\n          </div>\r\n        </div>\r\n      </van-sticky>\r\n      <div class=\"loadingView\" v-if=\"!worksData\">\r\n        <div class=\"loading\"></div>\r\n        <van-loading type=\"spinner\" size=\"20\" vertical />\r\n      </div>\r\n      <div v-else>\r\n        <div class=\"works\" v-if=\"worksData\" v-show=\"searchType == 1\">\r\n          <van-sticky :offset-top=\"93\">\r\n            <div class=\"msgtop\">\r\n              <div @click=\"menuDispaly = !menuDispaly\">\r\n                {{ type[typeIndex] }}\r\n                <span\r\n                  class=\"iconfont icon-xiangxiazhankai\"\r\n                  v-show=\"!menuDispaly\"\r\n                ></span>\r\n                <span class=\"iconfont icon-shouqi\" v-show=\"menuDispaly\"></span>\r\n              </div>\r\n            </div>\r\n            <div class=\"dropdownMenu\" v-show=\"menuDispaly\">\r\n              <p\r\n                v-for=\"(typeitem, index) in type\"\r\n                :key=\"index\"\r\n                @click=\"typeChange(index)\"\r\n              >\r\n                {{ typeitem }}\r\n              </p>\r\n            </div>\r\n          </van-sticky>\r\n          <div class=\"worksRuslt\">\r\n            <p class=\"countinfo\">\r\n              共 <span>{{ worksData.total }}</span> 部作品\r\n            </p>\r\n            <router-link\r\n              tag=\"div\"\r\n              :to=\"'/videoplay?id=' + item.id\"\r\n              class=\"videoInfo\"\r\n              v-for=\"item in worksData.list\"\r\n              :key=\"item.id\"\r\n            >\r\n              <div class=\"Bigimg\">\r\n                <img :src=\"item.cover\" alt=\"\" />\r\n              </div>\r\n              <div class=\"detailInfo\">\r\n                <h4>{{ item.title }}</h4>\r\n                <div class=\"count\">\r\n                  播放 {{ item.count.count_view }} · 喜欢\r\n                  {{ item.count.count_like }}\r\n                </div>\r\n\r\n                <div class=\"allAuthor\" v-if=\"item.team[0]\">\r\n                  <div class=\"pics\">\r\n                    <div class=\"img img1\">\r\n                      <img :src=\"item.team[0].userinfo.avatar\" alt=\"\" />\r\n                      <!-- <div>{{item.team[0].userinfo}}</div> -->\r\n                    </div>\r\n                    <div class=\"img img2\" v-if=\"item.team[1]\">\r\n                      <img :src=\"item.team[1].userinfo.avatar\" alt=\"\" />\r\n                    </div>\r\n                    <div class=\"img img3\" v-if=\"item.team[2]\">\r\n                      <img :src=\"item.team[2].userinfo.avatar\" alt=\"\" />\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"all\">\r\n                    <span class=\"firstname\">{{\r\n                      item.team[0].userinfo.username\r\n                    }}</span\r\n                    ><span>等{{ item.team_user_count }}位创作人</span>\r\n                  </div>\r\n                </div>\r\n                <div class=\"allAuthor\" v-else>\r\n                  <div class=\"pic\">\r\n                    <div class=\"img img1\">\r\n                      <img :src=\"item.author.userinfo.avatar\" alt=\"\" />\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"all\">{{ item.author.userinfo.username }}</div>\r\n                </div>\r\n              </div>\r\n            </router-link>\r\n          </div>\r\n        </div>\r\n        <div class=\"author\" v-show=\"searchType == 2\" v-if=\"creatorData\">\r\n          <p class=\"countinfo\">\r\n            共 <span>{{ creatorData.total }}</span> 位创作人\r\n          </p>\r\n          <div class=\"authorRuslt\">\r\n            <router-link\r\n              tag=\"div\"\r\n              :to=\"'/userinfo?id=' + item.id\"\r\n              class=\"infoBox\"\r\n              v-for=\"item in creatorData.list\"\r\n              :key=\"item.id\"\r\n            >\r\n              <div class=\"authorInfo\">\r\n                <div class=\"img\">\r\n                  <img :src=\"item.avatar\" alt=\"\" />\r\n                </div>\r\n                <div class=\"text\">\r\n                  <p class=\"nickname\">{{ item.username }}</p>\r\n                  <p class=\"p2\">\r\n                    {{ item.occupation }} · 粉丝 {{ item.count.count_follower }}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <div class=\"follow\">关注</div>\r\n            </router-link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getRecommendKws, getSearchInfo } from \"../api/search\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      recommendkws: null,\r\n      keywords: \"\",\r\n      isSearch: true,\r\n      menuDispaly: false,\r\n      worksData: null,\r\n      type: [\"最热门\", \"最匹配\", \"新发布\"],\r\n      typeIndex: 0,\r\n      creatorData: null,\r\n      searchType: 1,\r\n      historyList: null,\r\n    };\r\n  },\r\n  methods: {\r\n    getRecommendKwsFun() {\r\n      getRecommendKws().then((data) => {\r\n        // console.log(data);\r\n        this.recommendkws = data.data.list;\r\n      });\r\n    },\r\n    getSearchInfoFun(kw) {\r\n      getSearchInfo({ kw: kw }).then((data) => {\r\n        // console.log(data);\r\n        this.worksData = data.data;\r\n      });\r\n      getSearchInfo({ kw: kw, type: \"creator\" }).then((data) => {\r\n        // console.log(\"creator\", data);\r\n        this.creatorData = data.data;\r\n      });\r\n    },\r\n    typeChange(index) {\r\n      this.typeIndex = index;\r\n      this.menuDispaly = false;\r\n      let sort;\r\n      if (index == 0) {\r\n        sort = \"defalut\";\r\n      } else if (index == 1) {\r\n        sort = \"addtime\";\r\n      } else if (index == 2) {\r\n        sort = \"hot\";\r\n      }\r\n      this.$set(this, \"worksData\", null);\r\n      getSearchInfo({ kw: this.keywords, sort: sort }).then((data) => {\r\n        // console.log(data);\r\n        this.worksData = data.data;\r\n      });\r\n    },\r\n    search() {\r\n      if (this.keywords == \"\") {\r\n        return;\r\n      }\r\n\r\n      // 本地存储是否有历史\r\n      let localhistoryList = [];\r\n      let historyMsg = window.localStorage.getItem(\"historyList\");\r\n      if (historyMsg) {\r\n        localhistoryList = JSON.parse(historyMsg);\r\n        let historyIndex = localhistoryList.findIndex(\r\n          (item) => item == this.keywords\r\n        );\r\n        if (historyIndex == -1) {\r\n          localhistoryList.unshift(this.keywords);\r\n        } else {\r\n          localhistoryList.splice(historyIndex, 1);\r\n          localhistoryList.unshift(this.keywords);\r\n        }\r\n      } else {\r\n        localhistoryList.push(this.keywords);\r\n      }\r\n      // console.log(localhistoryList);\r\n      this.$set(this, \"historyList\", localhistoryList);\r\n      localhistoryList = JSON.stringify(localhistoryList);\r\n      window.localStorage.setItem(\"historyList\", localhistoryList);\r\n\r\n      this.isSearch = false;\r\n      this.getSearchInfoFun(this.keywords);\r\n    },\r\n    kwSearch(kw) {\r\n      this.keywords = kw;\r\n      this.search();\r\n    },\r\n    quxiaoClick() {\r\n      this.keywords = \"\";\r\n      this.isSearch = true;\r\n    },\r\n    delHistroyList() {\r\n      window.localStorage.removeItem(\"historyList\");\r\n      this.$set(this, \"historyList\", null);\r\n    },\r\n  },\r\n  created() {\r\n    this.historyList = JSON.parse(window.localStorage.getItem(\"historyList\"));\r\n    this.getRecommendKwsFun();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.searchMsg {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  .searchtop {\r\n    width: 100%;\r\n    height: 54px;\r\n    display: flex;\r\n    align-items: center;\r\n    background-color: #fff;\r\n    border-bottom: 1px solid #e8e8e8;\r\n    .searchNav {\r\n      flex: 1;\r\n      height: 34px;\r\n      background-color: #eeeeef;\r\n      border-radius: 7px;\r\n      margin-left: 16px;\r\n      display: flex;\r\n      align-items: center;\r\n      .iconfont {\r\n        color: #65656a;\r\n        font-size: 13px;\r\n        padding: 0 6px;\r\n      }\r\n      input {\r\n        flex: 1;\r\n        background: none;\r\n        outline: none;\r\n        border: none;\r\n        font-size: 14px;\r\n      }\r\n      input:focus {\r\n        border: none;\r\n      }\r\n    }\r\n    .quxiao {\r\n      font-size: 15px;\r\n      padding-left: 9px;\r\n      padding-right: 15px;\r\n    }\r\n  }\r\n  .noSearch {\r\n    .history {\r\n      padding-left: 20px;\r\n      padding-top: 8px;\r\n      .title {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        padding-right: 20px;\r\n        h3 {\r\n          height: 42px;\r\n          line-height: 42px;\r\n          font-size: 13px;\r\n          color: #a3a3a3;\r\n        }\r\n        .iconfont {\r\n          color: #a3a3a3;\r\n          font-size: 22px;\r\n        }\r\n      }\r\n      ul {\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n        li {\r\n          height: 30px;\r\n          padding: 0 15px;\r\n          margin-bottom: 12px;\r\n          border-radius: 3px;\r\n          font-size: 12px;\r\n          line-height: 30px;\r\n          margin-right: 12px;\r\n          background-color: #f7f7f7;\r\n          color: #505050;\r\n        }\r\n      }\r\n    }\r\n    .hot {\r\n      padding: 0 20px;\r\n      padding-top: 14px;\r\n      h3 {\r\n        height: 30px;\r\n        line-height: 30px;\r\n        font-size: 13px;\r\n        color: #a3a3a3;\r\n      }\r\n      ul {\r\n        li {\r\n          height: 38px;\r\n          display: flex;\r\n          align-items: center;\r\n          font-size: 13px;\r\n          i {\r\n            width: 22px;\r\n            font-style: normal;\r\n            color: #ababab;\r\n          }\r\n          div {\r\n            width: 28px;\r\n            height: 28px;\r\n            border-radius: 6px;\r\n            background-color: #e94465;\r\n            font-size: 18px;\r\n            color: #fff;\r\n            line-height: 28px;\r\n            text-align: center;\r\n            transform: scale(0.5);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .hotSearch {\r\n      padding-left: 20px;\r\n      padding-top: 2px;\r\n      h3 {\r\n        height: 42px;\r\n        line-height: 42px;\r\n        font-size: 13px;\r\n        color: #a3a3a3;\r\n      }\r\n      ul {\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n        li {\r\n          height: 30px;\r\n          padding: 0 15px;\r\n          margin-bottom: 12px;\r\n          border-radius: 3px;\r\n          font-size: 12px;\r\n          line-height: 30px;\r\n          margin-right: 12px;\r\n          background-color: #f7f7f7;\r\n          color: #505050;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .yesSearch {\r\n    .typeTile {\r\n      width: 100%;\r\n      height: 38px;\r\n      line-height: 38px;\r\n      display: flex;\r\n      background-color: #fff;\r\n      border-bottom: 1px solid #f4f4f4;\r\n      div {\r\n        width: 50%;\r\n        text-align: center;\r\n        font-size: 13px;\r\n        span {\r\n          display: inline-block;\r\n          box-sizing: border-box;\r\n        }\r\n        span.active {\r\n          color: #d14531;\r\n        }\r\n        span.active::after {\r\n          content: \"\";\r\n          display: block;\r\n          width: 100%;\r\n          height: 3px;\r\n          border-radius: 2px;\r\n          background-color: #d14531;\r\n          position: relative;\r\n          left: 0;\r\n          bottom: 3px;\r\n        }\r\n      }\r\n    }\r\n    .works {\r\n      position: relative;\r\n      .msgtop {\r\n        height: 40px;\r\n        line-height: 40px;\r\n        font-size: 12px;\r\n        background-color: #fff;\r\n        div {\r\n          padding-left: 20px;\r\n          .iconfont {\r\n            font-size: 12px;\r\n          }\r\n        }\r\n      }\r\n      .dropdownMenu {\r\n        width: 100%;\r\n        height: 120px;\r\n        background-color: #fff;\r\n        line-height: 40px;\r\n        font-size: 12px;\r\n        position: absolute;\r\n        left: 0;\r\n        top: 41px;\r\n        z-index: 100;\r\n        p {\r\n          padding-left: 20px;\r\n        }\r\n      }\r\n      .worksRuslt {\r\n        background-color: #fff;\r\n        padding-top: 20px;\r\n        p.countinfo {\r\n          height: 16px;\r\n          line-height: 20px;\r\n          font-size: 20px;\r\n          transform: scale(0.5);\r\n          margin-left: -100px;\r\n          color: #c2c2c2;\r\n          span {\r\n            color: #d45644;\r\n          }\r\n        }\r\n        .videoInfo {\r\n          padding: 15px 20px;\r\n          display: flex;\r\n          align-items: center;\r\n          .Bigimg {\r\n            width: 160px;\r\n            height: 90px;\r\n            border-radius: 5px;\r\n            overflow: hidden;\r\n            box-shadow: 0px 4px 4px 0px #ddd;\r\n            img {\r\n              width: 160px;\r\n              height: 90px;\r\n            }\r\n          }\r\n          .detailInfo {\r\n            flex: 1;\r\n            padding-left: 12px;\r\n            h4 {\r\n              font-size: 13px;\r\n              line-height: 19px;\r\n              white-space: wrap;\r\n              font-weight: bold;\r\n            }\r\n            .count {\r\n              height: 26px;\r\n              line-height: 26px;\r\n              font-size: 12px;\r\n              color: #b0b0b0;\r\n            }\r\n            .allAuthor {\r\n              height: 20px;\r\n              display: flex;\r\n              .pics {\r\n                width: 36px;\r\n                height: 20px;\r\n                position: relative;\r\n                .img {\r\n                  width: 16px;\r\n                  height: 16px;\r\n                  overflow: hidden;\r\n                  border-radius: 50%;\r\n                  border: 2px solid #fff;\r\n                  position: absolute;\r\n                  img {\r\n                    width: 16px;\r\n                    height: 16px;\r\n                  }\r\n                  &.img1 {\r\n                    left: 0;\r\n                    top: 0;\r\n                    z-index: 3;\r\n                  }\r\n                  &.img2 {\r\n                    left: 8px;\r\n                    top: 0;\r\n                    z-index: 2;\r\n                  }\r\n                  &.img3 {\r\n                    left: 16px;\r\n                    top: 0;\r\n                    z-index: 1;\r\n                  }\r\n                }\r\n              }\r\n              .pic {\r\n                .img {\r\n                  width: 16px;\r\n                  height: 16px;\r\n                  overflow: hidden;\r\n                  border-radius: 50%;\r\n                  border: 2px solid #fff;\r\n                  // position: absolute;\r\n                  img {\r\n                    width: 16px;\r\n                    height: 16px;\r\n                  }\r\n                }\r\n              }\r\n              .all {\r\n                height: 20px;\r\n                line-height: 20px;\r\n                font-size: 12px;\r\n                margin-left: 6px;\r\n                color: #6b6b6b;\r\n                display: flex;\r\n                align-items: center;\r\n                span.firstname {\r\n                  font-size: 12px;\r\n                  height: 20px;\r\n                  line-height: 20px;\r\n                  display: inline-block;\r\n                  width: 30px;\r\n                  overflow: hidden;\r\n                  white-space: nowrap;\r\n                  text-overflow: ellipsis;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .author {\r\n      padding-top: 18px;\r\n      p.countinfo {\r\n        height: 16px;\r\n        line-height: 20px;\r\n        font-size: 20px;\r\n        transform: scale(0.5);\r\n        margin-left: -100px;\r\n        margin-bottom: 28px;\r\n        color: #c2c2c2;\r\n        span {\r\n          color: #d45644;\r\n        }\r\n      }\r\n      .authorRuslt {\r\n        padding: 0 20px;\r\n        .infoBox {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          margin-bottom: 15px;\r\n          .authorInfo {\r\n            flex: 1;\r\n            display: flex;\r\n            overflow: hidden;\r\n            .img {\r\n              width: 46px;\r\n              height: 46px;\r\n              border-radius: 50%;\r\n              overflow: hidden;\r\n              img {\r\n                width: 46px;\r\n                height: 46px;\r\n              }\r\n            }\r\n            .text {\r\n              flex: 1;\r\n              margin-left: 8px;\r\n              overflow: hidden;\r\n              p.nickname {\r\n                height: 23px;\r\n                line-height: 23px;\r\n                font-size: 13px;\r\n                color: #313131;\r\n                white-space: nowrap;\r\n                overflow: hidden;\r\n                text-overflow: ellipsis;\r\n              }\r\n              p.p2 {\r\n                height: 17px;\r\n                line-height: 17px;\r\n                font-size: 12px;\r\n                transform: scale(0.8);\r\n                margin-left: -26px;\r\n                color: #b2b2b2;\r\n              }\r\n            }\r\n          }\r\n          .follow {\r\n            width: 68px;\r\n            height: 26px;\r\n            line-height: 26px;\r\n            text-align: center;\r\n            font-size: 12px;\r\n            background-color: #f9edeb;\r\n            color: #d45543;\r\n            border-radius: 13px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n.loadingView {\r\n  .loading {\r\n    width: 100%;\r\n    height: 240px;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/_thread-loader@3.0.4@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!./SearchMsg.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_thread-loader@3.0.4@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!./SearchMsg.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchMsg.vue?vue&type=template&id=2d3941cc&\"\nimport script from \"./SearchMsg.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchMsg.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchMsg.vue?vue&type=style&index=0&id=2d3941cc&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.10.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["getPageDiscovery","request","url","method","getRecommendKws","getSearchInfo","params","getCategoryArticles","render","_vm","this","_c","_self","staticClass","directives","name","rawName","value","keywords","expression","attrs","domProps","on","$event","type","indexOf","_k","keyCode","key","search","apply","arguments","target","composing","quxiaoClick","_v","isSearch","historyList","delHistroyList","_e","_l","i","index","kwSearch","_s","recommendkws","item","id","class","active","searchType","worksData","menuDispaly","typeIndex","typeitem","typeChange","total","list","cover","title","count","count_view","count_like","team","userinfo","avatar","username","team_user_count","author","creatorData","occupation","count_follower","staticRenderFns","data","methods","getRecommendKwsFun","getSearchInfoFun","kw","sort","localhistoryList","window","created","component"],"sourceRoot":""}